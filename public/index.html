<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Chartbreaker</title>
	<style>
		canvas {
			border: 1px solid #ccc;
		}
	</style>
</head>
<body>
	<div class="chartbreaker">
	</div>

	<script>
		var target = document.querySelector('.chartbreaker');
		var canvas = document.createElement('canvas');
		canvas.height = 300;
		canvas.width = 400;

		var context = canvas.getContext('2d');
		context.fillStyle = '#ff0033';

		var rectH = 240;
		var rectH2 = 180;
		var rectW = 50;

		var barH1  = barH2 = 0;

		target.appendChild(canvas);
		context.fillRect(5, (canvas.height - rectH), rectW, rectH);
		context.fillRect((5 * 2) + rectW, (canvas.height - rectH2), rectW, rectH2);

		document.body.addEventListener('click', function(){

			var interval = setInterval(function(){

				if(barH1 >= rectH){
					return clearInterval(interval);
				}

				barH1 >= rectH ? rectH : barH1 += 1;
				barH2 >= rectH2 ? rectH2 : barH2 += 1;

				context.clearRect(0, 0, canvas.width, canvas.height);
				context.fillRect(5, (canvas.height - barH1), rectW, barH1);
				context.fillRect((5 * 2) + rectW, (canvas.height - barH2), rectW, barH2);
				console.log('bam');
			}, 5);
		});
	</script>
</body>
</html>
